#!/usr/bin/env ruby

require_relative './../lib/linguist-ext'

def linguist_ext(args)
    include Linguist
    dirpath = args[0]
    excl_list = ['.', '..', '.git'].map { |d| ignore_to_regex(d) }
    blobs = index_dir(dirpath, excl_list)
    s = merge_blobs(blobs)
    s.present
end

linguist_ext(ARGV)